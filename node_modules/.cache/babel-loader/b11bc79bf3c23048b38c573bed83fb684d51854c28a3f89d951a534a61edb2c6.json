{"ast":null,"code":"var _jsxFileName = \"/Users/amber/Front-End-Class-Batch19/stylish/src/components/Product.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from \"react\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst urlParams = new URLSearchParams(window.location.search);\nconst productID = urlParams.get(\"id\");\nconst productUrl = `https://api.appworks-school.tw/api/1.0/products/details?id=${productID}`;\nfunction Product() {\n  _s();\n  const [posts, setPosts] = useState();\n  const [selectedColor, setSelectedColor] = useState();\n  const [selectedSize, setSelectedSize] = useState();\n  const [selectedQuantity, setSelectedQuantity] = useState(0);\n  const [maxStock, setMaxStock] = useState(0);\n  console.log({\n    maxStock,\n    selectedColor,\n    selectedSize,\n    selectedQuantity\n  });\n  function handleColorClick(selectedColor) {\n    setSelectedColor(selectedColor);\n  }\n\n  // function handleSizeClick(selectedSize) {\n  //   setSelectedSize(selectedSize);\n  //   if (selectedColor.code !== \"\") {\n  //     const stock = posts.data.variants.find((variant) => {\n  //       //console.log({ variant });\n  //       let temp =\n  //         variant.color_code === selectedColor.code && variant.size === selectedSize;\n  //         //console.log(\"temp\",temp);\n  //         //console.log(\"variant.stock\",variant.stock);\n  //         return temp === true ? variant.stock : 0;\n  //     });\n  //     console.log(\"stock\",stock);\n  //     setMaxStock(stock.stock);\n  //   }\n  // }\n\n  function handleSizeClick(selectedSize) {\n    setSelectedSize(selectedSize);\n  }\n  function handleQuantityClick(plusOrMinus, maxStock) {\n    maxStock = Number(maxStock);\n    if (plusOrMinus === \"plus\" && selectedQuantity < (maxStock || 0)) {\n      setSelectedQuantity(selectedQuantity + 1);\n    } else if (plusOrMinus === \"minus\" && selectedQuantity > 0) {\n      setSelectedQuantity(selectedQuantity - 1);\n    }\n  }\n  function addToCart() {\n    const cartItem = {\n      id: posts.data.id,\n      name: posts.data.title,\n      price: posts.data.price,\n      color: {\n        name: posts.data.colors.find(color => color.code === selectedColor).name,\n        code: selectedColor\n      },\n      size: selectedSize,\n      qty: selectedQuantity\n    };\n    console.log(\"cartItem\", cartItem);\n    if (selectedColor && selectedSize && selectedQuantity) {\n      const cart = JSON.parse(localStorage.getItem('cart')) || [];\n      const existingItem = cart.find(item => item.id === posts.data.id && item.color.code === selectedColor && item.size === selectedSize);\n      if (existingItem) {\n        existingItem.qty += selectedQuantity;\n        localStorage.setItem('cart', JSON.stringify(cart));\n      } else {\n        localStorage.setItem('cart', JSON.stringify([...cart, cartItem]));\n      }\n    }\n  }\n  useEffect(() => {\n    if (selectedColor && selectedSize) {\n      const stock = posts.data.variants.find(variant => {\n        let temp = variant.color_code === selectedColor && variant.size === selectedSize;\n        return temp === true ? variant.stock : 0;\n      });\n      setMaxStock(stock.stock);\n    }\n  }, [selectedColor, selectedSize]);\n  useEffect(() => {\n    fetch(productUrl).then(response => response.json()).then(response => {\n      setPosts(response);\n    }).catch(err => {\n      console.log(err.message);\n    });\n  }, []);\n  if (posts === undefined) {\n    return null;\n  }\n  return /*#__PURE__*/_jsxDEV(\"section\", {\n    className: \"product\",\n    children: [/*#__PURE__*/_jsxDEV(\"section\", {\n      className: \"product-top\",\n      children: [/*#__PURE__*/_jsxDEV(\"img\", {\n        className: \"product-image-top\",\n        src: posts.data.main_image,\n        alt: \"product\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 109,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"product-info\",\n        children: /*#__PURE__*/_jsxDEV(\"ul\", {\n          children: [/*#__PURE__*/_jsxDEV(\"li\", {\n            className: \"product-name\",\n            children: posts.data.title\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 116,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n            className: \"product-id\",\n            children: posts.data.id\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 117,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n            className: \"product-price\",\n            children: [\"TWD.\", posts.data.price]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 118,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n            className: \"split1\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 119,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n            children: /*#__PURE__*/_jsxDEV(\"ul\", {\n              className: \"product-color\",\n              children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                children: \"\\u984F\\u8272\\uFF5C\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 122,\n                columnNumber: 17\n              }, this), posts.data.colors.map((color, index) => /*#__PURE__*/_jsxDEV(\"li\", {\n                // className=\"colorblock\"\n                className: `colorblock ${selectedColor === color ? \"active\" : \"\"}`,\n                style: {\n                  backgroundColor: \"#\" + color.code\n                },\n                onClick: () => handleColorClick(color)\n              }, index, false, {\n                fileName: _jsxFileName,\n                lineNumber: 124,\n                columnNumber: 19\n              }, this))]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 121,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 120,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n            children: /*#__PURE__*/_jsxDEV(\"ul\", {\n              className: \"product-size\",\n              children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                children: \"\\u5C3A\\u5BF8\\uFF5C\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 136,\n                columnNumber: 17\n              }, this), posts.data.sizes.map((size, index) => /*#__PURE__*/_jsxDEV(\"li\", {\n                // className=\"size\"\n                className: `size ${selectedSize === size ? \"active\" : \"\"}`,\n                onClick: () => handleSizeClick(size),\n                children: size\n              }, index, false, {\n                fileName: _jsxFileName,\n                lineNumber: 138,\n                columnNumber: 19\n              }, this))]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 135,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 134,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n            children: /*#__PURE__*/_jsxDEV(\"ul\", {\n              className: \"product-in-stock\",\n              children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                children: \"\\u6578\\u91CF\\uFF5C\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 151,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"quantity-container\",\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"minus\",\n                  type: \"button\",\n                  onClick: () => handleQuantityClick(\"minus\"),\n                  children: \"-\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 153,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"quantity\",\n                  children: selectedQuantity\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 160,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"plus\",\n                  type: \"button\",\n                  onClick: () => handleQuantityClick(\"plus\", maxStock),\n                  children: \"+\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 161,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 152,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 150,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 149,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"add-to-cart\",\n            onClick: addToCart\n            // canAdd={selectedColor !== null && selectedSize !== null && selectedQuantity !== 0}\n            ,\n            children: \"\\u52A0\\u5165\\u8CFC\\u7269\\u8ECA\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 171,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"product-detail\",\n            children: [posts.data.note, /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 178,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 179,\n              columnNumber: 15\n            }, this), posts.data.texture, /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 181,\n              columnNumber: 15\n            }, this), posts.data.description.split(\"\\r\\n\")[0], /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 183,\n              columnNumber: 15\n            }, this), posts.data.description.split(\"\\r\\n\")[1], /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 185,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 186,\n              columnNumber: 15\n            }, this), \"\\u6E05\\u6D17\\uFF1A\", posts.data.wash, /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 188,\n              columnNumber: 15\n            }, this), \"\\u7522\\u5730\\uFF1A\", posts.data.place]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 176,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 115,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 114,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 108,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"section\", {\n      className: \"product-bottom\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"more-info\",\n        children: [/*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"more-info-p\",\n          children: \"\\u66F4\\u591A\\u7522\\u54C1\\u8CC7\\u8A0A\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 197,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"split2\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 198,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 196,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"description\",\n        children: posts.data.story\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 200,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"product-images-bottom\",\n        children: posts.data.images.map((image, index) => /*#__PURE__*/_jsxDEV(\"img\", {\n          className: \"product-image-bottom\",\n          src: image,\n          alt: \"product\"\n        }, index, false, {\n          fileName: _jsxFileName,\n          lineNumber: 203,\n          columnNumber: 13\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 201,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 195,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 107,\n    columnNumber: 5\n  }, this);\n}\n_s(Product, \"gPbpEi2YfoUTtyBloflgdYw+JPg=\");\n_c = Product;\nexport default Product;\nvar _c;\n$RefreshReg$(_c, \"Product\");","map":{"version":3,"names":["React","useState","useEffect","urlParams","URLSearchParams","window","location","search","productID","get","productUrl","Product","posts","setPosts","selectedColor","setSelectedColor","selectedSize","setSelectedSize","selectedQuantity","setSelectedQuantity","maxStock","setMaxStock","console","log","handleColorClick","handleSizeClick","handleQuantityClick","plusOrMinus","Number","addToCart","cartItem","id","data","name","title","price","color","colors","find","code","size","qty","cart","JSON","parse","localStorage","getItem","existingItem","item","setItem","stringify","stock","variants","variant","temp","color_code","fetch","then","response","json","catch","err","message","undefined","main_image","map","index","backgroundColor","sizes","note","texture","description","split","wash","place","story","images","image"],"sources":["/Users/amber/Front-End-Class-Batch19/stylish/src/components/Product.js"],"sourcesContent":["import React, { useState, useEffect } from \"react\";\n\nconst urlParams = new URLSearchParams(window.location.search);\nconst productID = urlParams.get(\"id\");\nconst productUrl = `https://api.appworks-school.tw/api/1.0/products/details?id=${productID}`;\n\nfunction Product() {\n  const [posts, setPosts] = useState();\n  const [selectedColor, setSelectedColor] = useState();\n  const [selectedSize, setSelectedSize] = useState();\n  const [selectedQuantity, setSelectedQuantity] = useState(0);\n  const [maxStock, setMaxStock] = useState(0);\n\n  console.log({ maxStock, selectedColor, selectedSize, selectedQuantity });\n\n  function handleColorClick(selectedColor) {\n    setSelectedColor(selectedColor);\n  }\n\n  // function handleSizeClick(selectedSize) {\n  //   setSelectedSize(selectedSize);\n  //   if (selectedColor.code !== \"\") {\n  //     const stock = posts.data.variants.find((variant) => {\n  //       //console.log({ variant });\n  //       let temp =\n  //         variant.color_code === selectedColor.code && variant.size === selectedSize;\n  //         //console.log(\"temp\",temp);\n  //         //console.log(\"variant.stock\",variant.stock);\n  //         return temp === true ? variant.stock : 0;\n  //     });\n  //     console.log(\"stock\",stock);\n  //     setMaxStock(stock.stock);\n  //   }\n  // }\n\n  function handleSizeClick(selectedSize) {\n    setSelectedSize(selectedSize);\n  }\n\n\n  function handleQuantityClick(plusOrMinus, maxStock) {\n    maxStock = Number(maxStock);\n    if (plusOrMinus === \"plus\" && selectedQuantity < (maxStock || 0)) {\n      setSelectedQuantity(selectedQuantity + 1);\n    } else if (plusOrMinus === \"minus\" && selectedQuantity > 0) {\n      setSelectedQuantity(selectedQuantity - 1);\n    }\n  }\n  \n  function addToCart () {\n    const cartItem = {\n      id: posts.data.id,\n      name: posts.data.title,\n      price: posts.data.price,\n      color: {\n        name: posts.data.colors.find((color) => color.code === selectedColor).name,\n        code: selectedColor,\n      },\n      size: selectedSize,\n      qty: selectedQuantity,\n    };\n    console.log(\"cartItem\",cartItem);\n    if (selectedColor && selectedSize && selectedQuantity) {\n      const cart = JSON.parse(localStorage.getItem('cart')) || [];\n      const existingItem = cart.find(\n        (item) =>\n          item.id === posts.data.id &&\n          item.color.code === selectedColor &&\n          item.size === selectedSize\n      );\n      if (existingItem) {\n        existingItem.qty += selectedQuantity;\n        localStorage.setItem('cart', JSON.stringify(cart));\n      } else {\n        localStorage.setItem('cart', JSON.stringify([...cart, cartItem]));\n      }\n    }\n  }\n\n  useEffect(() => {\n    if (selectedColor && selectedSize) {\n      const stock = posts.data.variants.find((variant) => {\n        let temp =\n          variant.color_code === selectedColor && variant.size === selectedSize;\n          return temp === true ? variant.stock : 0;\n      });\n      setMaxStock(stock.stock);\n    }\n  }, [selectedColor, selectedSize]);\n\n  useEffect(() => {\n    fetch(productUrl)\n      .then((response) => response.json())\n      .then((response) => {\n        setPosts(response);\n      })\n      .catch((err) => {\n        console.log(err.message);\n      });\n  }, []);\n\n  if (posts === undefined) {\n    return null;\n  }\n\n  return (\n    <section className=\"product\">\n      <section className=\"product-top\">\n        <img\n          className=\"product-image-top\"\n          src={posts.data.main_image}\n          alt=\"product\"\n        />\n        <div className=\"product-info\">\n          <ul>\n            <li className=\"product-name\">{posts.data.title}</li>\n            <li className=\"product-id\">{posts.data.id}</li>\n            <li className=\"product-price\">TWD.{posts.data.price}</li>\n            <li className=\"split1\"></li>\n            <li>\n              <ul className=\"product-color\">\n                <p>顏色｜</p>\n                {posts.data.colors.map((color, index) => (\n                  <li\n                    key={index}\n                    // className=\"colorblock\"\n                    className={`colorblock ${selectedColor === color ? \"active\" : \"\"}`}\n                    style={{ backgroundColor: \"#\" + color.code }}\n                    onClick={() => handleColorClick(color)}\n                  ></li>\n                ))}\n              </ul>\n            </li>\n            <li>\n              <ul className=\"product-size\">\n                <p>尺寸｜</p>\n                {posts.data.sizes.map((size, index) => (\n                  <li\n                    key={index}\n                    // className=\"size\"\n                    className={`size ${selectedSize === size ? \"active\" : \"\"}`}\n                    onClick={() => handleSizeClick(size)}\n                  >\n                    {size}\n                  </li>\n                ))}\n              </ul>\n            </li>\n            <li>\n              <ul className=\"product-in-stock\">\n                <p>數量｜</p>\n                <div className=\"quantity-container\">\n                  <div\n                    className=\"minus\"\n                    type=\"button\"\n                    onClick={() => handleQuantityClick(\"minus\")}\n                  >\n                    -\n                  </div>\n                  <div className=\"quantity\">{selectedQuantity}</div>\n                  <div\n                    className=\"plus\"\n                    type=\"button\"\n                    onClick={() => handleQuantityClick(\"plus\", maxStock)}\n                  >\n                    +\n                  </div>\n                </div>\n              </ul>\n            </li>\n            <button \n              className=\"add-to-cart\"\n              onClick={addToCart}\n              // canAdd={selectedColor !== null && selectedSize !== null && selectedQuantity !== 0}\n            >加入購物車</button>\n            <div className=\"product-detail\">\n              {posts.data.note}\n              <br />\n              <br />\n              {posts.data.texture}\n              <br />\n              {posts.data.description.split(\"\\r\\n\")[0]}\n              <br />\n              {posts.data.description.split(\"\\r\\n\")[1]}\n              <br />\n              <br />\n              清洗：{posts.data.wash}\n              <br />\n              產地：{posts.data.place}\n            </div>\n          </ul>\n        </div>\n      </section>\n\n      <section className=\"product-bottom\">\n        <div className=\"more-info\">\n          <p className=\"more-info-p\">更多產品資訊</p>\n          <div className=\"split2\"></div>\n        </div>\n        <p className=\"description\">{posts.data.story}</p>\n        <div className=\"product-images-bottom\">\n          {posts.data.images.map((image, index) => (\n            <img\n              key={index}\n              className=\"product-image-bottom\"\n              src={image}\n              alt=\"product\"\n            />\n          ))}\n        </div>\n      </section>\n    </section>\n  );\n}\n\nexport default Product;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}